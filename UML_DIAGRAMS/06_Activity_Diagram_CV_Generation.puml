@startuml Activity Diagram - CV Generation Workflow

' ============================================
' ACTIVITY DIAGRAM - CV GENERATION WORKFLOW
' ============================================

start

:User accesses Generate CV page;

:Select template;

if (Upload CV file?) then (yes)
  :Upload file (PDF/Word/Image);
  :Extract text using OCR;
  :Display extracted text;
else (no)
  :Enter CV text manually;
endif

:Enter job description;

if (CV text length >= 50 AND\njob description length >= 20?) then (yes)
  :Click "Generate CV";
  :Send request to backend;
  
  :Authenticate user;
  
  if (Authentication successful?) then (yes)
    :Call OpenAI API;
    :Optimize CV content;
    
    :Parse optimized text;
    :Extract profile;
    :Extract experience;
    :Extract education;
    :Extract skills;
    :Extract projects;
    
    :Generate HTML with selected template;
    :Format descriptions;
    :Apply template styles;
    
    :Save to database;
    
    if (Save successful?) then (yes)
      :Display success message;
      :Show generated CV preview;
      :Enable download button;
      
      if (User clicks Download?) then (yes)
        :Open print dialog;
        :User saves as PDF;
      else (no)
        :User views in history;
      endif
      
      stop
    else (no)
      :Display error message;
      stop
    endif
  else (no)
    :Display authentication error;
    :Redirect to login;
    stop
  endif
else (no)
  :Display validation error;
  :Highlight missing fields;
  stop
endif

@enduml


